---
phase: 04-design-and-styling
plan: 03
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - app/(marketing)/help/page.tsx
  - app/(marketing)/help/[slug]/page.tsx
autonomous: true

must_haves:
  truths:
    - "Help listing page shows a hero-level search bar with branded amber background and honeycomb texture"
    - "Help listing browse mode displays sections as cards with title, description, and article count"
    - "Help article page renders rich text body with prose-amber brand styling"
    - "Breadcrumbs on section and article pages use brand tokens and chevron separators"
    - "All help pages have Navbar at top and Footer at bottom via BlogPageChrome"
    - "No raw Tailwind gray or yellow classes remain on any help page"
  artifacts:
    - path: "app/(marketing)/help/page.tsx"
      provides: "Branded help listing with search hero and section cards"
      contains: "BlogPageChrome"
    - path: "app/(marketing)/help/[slug]/page.tsx"
      provides: "Styled help articles and section landings with breadcrumbs and prose-amber"
      contains: "prose-amber"
  key_links:
    - from: "app/(marketing)/help/page.tsx"
      to: "components/BlogPageChrome.tsx"
      via: "import"
      pattern: "import.*BlogPageChrome"
    - from: "app/(marketing)/help/[slug]/page.tsx"
      to: "components/BlogPageChrome.tsx"
      via: "import"
      pattern: "import.*BlogPageChrome"
---

<objective>
Restyle the help listing page and help [slug] page (section landing + article) with full brand design: search hero, section cards, styled breadcrumbs, prose-amber typography, and BlogPageChrome wrapper.

Purpose: The help pages currently use raw Tailwind grays and bare lists. This transforms them into a warm, branded help center consistent with the blog and landing page.
Output: Both help page files restyled in-place with brand tokens, no new route files needed.
</objective>

<execution_context>
@/Users/alexander/.claude/get-shit-done/workflows/execute-plan.md
@/Users/alexander/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-design-and-styling/04-RESEARCH.md
@.planning/phases/04-design-and-styling/04-01-SUMMARY.md

@app/(marketing)/help/page.tsx
@app/(marketing)/help/[slug]/page.tsx
@app/globals.css
@components/BlogPageChrome.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restyle help listing page with search hero and section cards</name>
  <files>app/(marketing)/help/page.tsx</files>
  <action>
Restyle the help listing page in-place. Keep ALL existing data fetching (search mode and browse mode), Payload queries, and metadata export unchanged. Only modify imports and the returned JSX.

**Add imports:**
- `import { BlogPageChrome } from '@/components/BlogPageChrome'`
- `import { Search, ChevronRight } from 'lucide-react'`

**Wrap BOTH return paths (search mode and browse mode) in BlogPageChrome.**

**Search hero (shared between both modes) — replace the plain h1 and form:**

Replace the search form and h1 with a hero-level search section. This should be the first child inside BlogPageChrome for both return paths:

```tsx
<section className="relative bg-[var(--color-section-b)] bg-honeycomb overflow-hidden py-16 px-6">
  <div className="relative max-w-2xl mx-auto text-center">
    <h1 className="text-4xl md:text-5xl font-bold text-[var(--color-text-primary)] mb-6">Help Center</h1>
    <p className="text-lg text-[var(--color-text-secondary)] mb-8">Find answers, tutorials, and guides about using PackBee</p>
    <form action="/help" method="GET" className="flex gap-2 max-w-xl mx-auto">
      <div className="relative flex-1">
        <Search size={18} className="absolute left-3 top-1/2 -translate-y-1/2 text-[var(--color-text-muted)]" />
        <input
          type="text"
          name="q"
          placeholder="Search help articles..."
          defaultValue={q || undefined}
          className="w-full border border-[var(--color-border)] rounded-xl pl-10 pr-4 py-3 text-base bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary-400)]"
        />
      </div>
      <button type="submit" className="bg-[var(--color-primary-500)] hover:bg-[var(--color-primary-600)] text-white rounded-xl px-6 py-3 font-medium transition-colors">
        Search
      </button>
    </form>
  </div>
</section>
```

**Cross-navigation tab strip (same pattern as blog, but Help is active):**
```tsx
<div className="border-b border-[var(--color-border)] bg-white">
  <div className="max-w-6xl mx-auto px-6 flex gap-6">
    <Link href="/blog" className="py-3 text-sm font-medium border-b-2 border-transparent text-[var(--color-text-muted)] hover:text-[var(--color-text-primary)] transition-colors">
      Blog
    </Link>
    <Link href="/help" className="py-3 text-sm font-medium border-b-2 border-[var(--color-primary-500)] text-[var(--color-text-primary)]">
      Help Center
    </Link>
  </div>
</div>
```

**Search results (search mode):**
Restyle the search results list within a `max-w-4xl mx-auto px-6 py-12` container:
- Replace `text-gray-500` with `text-[var(--color-text-muted)]`
- Replace `text-gray-600` with `text-[var(--color-text-secondary)]`
- Replace `hover:text-gray-700` with `hover:text-[var(--color-text-primary)]`
- Add `border-[var(--color-border)]` to border-b elements
- Search result items: style as clean list items with hover state, using brand tokens
- "Clear search" link: use `text-[var(--color-primary-700)] hover:text-[var(--color-primary-800)]` instead of underline + gray

**Browse mode — section cards (replace the border-b article lists):**

Replace the plain `<section>` blocks with a card grid:
```tsx
<div className="max-w-4xl mx-auto px-6 py-12">
  {sectionsWithArticles.length === 0 ? (
    <p className="text-[var(--color-text-muted)]">No articles published yet.</p>
  ) : (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      {sectionsWithArticles.map(({ section, articles }) => (
        <Link key={section.id} href={`/help/${section.slug}`}
          className="bg-[var(--color-surface-50)] border border-[var(--color-border)] rounded-2xl p-6 hover:shadow-md transition-shadow group">
          <h2 className="text-lg font-semibold text-[var(--color-text-primary)] mb-2 group-hover:text-[var(--color-primary-700)] transition-colors">{section.title}</h2>
          {section.description && (
            <p className="text-sm text-[var(--color-text-secondary)] mb-3">{section.description}</p>
          )}
          <div className="flex items-center gap-1 text-xs text-[var(--color-text-muted)]">
            <span>{articles.length} {articles.length === 1 ? 'article' : 'articles'}</span>
            <ChevronRight size={12} />
          </div>
        </Link>
      ))}
    </div>
  )}
</div>
```

**Token replacements across the entire file:**
- `bg-yellow-400` -> `bg-[var(--color-primary-500)]`
- `hover:bg-yellow-500` -> `hover:bg-[var(--color-primary-600)]`
- `text-gray-500` -> `text-[var(--color-text-muted)]`
- `text-gray-600` -> `text-[var(--color-text-secondary)]`
- `hover:text-gray-700` -> `hover:text-[var(--color-text-primary)]`
- Bare `border` on input -> `border border-[var(--color-border)]`

**CRITICAL: Do NOT change any Payload query logic, searchParams handling, or data processing. Only modify imports and JSX structure/classes.**
  </action>
  <verify>
- `grep -c "gray-\|yellow-" app/\(marketing\)/help/page.tsx` returns 0
- `grep -c "BlogPageChrome" app/\(marketing\)/help/page.tsx` returns at least 1
- `grep -c "bg-honeycomb" app/\(marketing\)/help/page.tsx` returns at least 1
- `grep -c "color-primary-500" app/\(marketing\)/help/page.tsx` returns at least 1
  </verify>
  <done>Help listing page renders with hero-level branded search bar, cross-navigation tabs, section cards in a responsive grid for browse mode, styled search results for search mode, and all brand tokens.</done>
</task>

<task type="auto">
  <name>Task 2: Restyle help [slug] page (section landing + article) with breadcrumbs and prose-amber</name>
  <files>app/(marketing)/help/[slug]/page.tsx</files>
  <action>
Restyle both the SectionLanding and ArticlePage sub-components in-place. Keep ALL existing data fetching (queryBySlug with React.cache), generateStaticParams, generateMetadata, JSON-LD generation, and the DB disambiguation logic unchanged. Only modify imports and the JSX returned by SectionLanding, ArticlePage, and the HelpPage wrapper.

**Add imports:**
- `import { BlogPageChrome } from '@/components/BlogPageChrome'`
- `import { ChevronRight } from 'lucide-react'`

**Wrap the main HelpPage component's return in BlogPageChrome:**
Both `<SectionLanding>` and `<ArticlePage>` should be wrapped in `<BlogPageChrome>` at the HelpPage level (not inside each sub-component). Also move the FAQPage JSON-LD `<script>` tag inside the BlogPageChrome wrapper.

**Styled breadcrumbs (replace plain "/" separators with ChevronRight icons and brand tokens):**

For SectionLanding:
```tsx
<nav aria-label="breadcrumb" className="mb-8">
  <ol className="flex items-center gap-1 text-sm text-[var(--color-text-muted)]">
    <li><Link href="/" className="hover:text-[var(--color-primary-700)] transition-colors">Home</Link></li>
    <li><ChevronRight size={14} /></li>
    <li><Link href="/help" className="hover:text-[var(--color-primary-700)] transition-colors">Help</Link></li>
    <li><ChevronRight size={14} /></li>
    <li className="text-[var(--color-text-primary)] font-medium" aria-current="page">{section.title}</li>
  </ol>
</nav>
```

For ArticlePage (with optional section crumb):
```tsx
<nav aria-label="breadcrumb" className="mb-8">
  <ol className="flex items-center gap-1 text-sm text-[var(--color-text-muted)]">
    <li><Link href="/" className="hover:text-[var(--color-primary-700)] transition-colors">Home</Link></li>
    <li><ChevronRight size={14} /></li>
    <li><Link href="/help" className="hover:text-[var(--color-primary-700)] transition-colors">Help</Link></li>
    {section && (
      <>
        <li><ChevronRight size={14} /></li>
        <li><Link href={`/help/${section.slug}`} className="hover:text-[var(--color-primary-700)] transition-colors">{section.title}</Link></li>
      </>
    )}
    <li><ChevronRight size={14} /></li>
    <li className="text-[var(--color-text-primary)] font-medium" aria-current="page">{article.title}</li>
  </ol>
</nav>
```

**SectionLanding styling:**
Wrap content in `<div className="max-w-4xl mx-auto px-6 py-12">`.
- Section title: `text-3xl md:text-4xl font-bold text-[var(--color-text-primary)] mb-4`
- Section description: `text-[var(--color-text-secondary)] mb-8 text-lg`
- Article list: style as clickable cards/rows with hover states:
```tsx
<ul className="space-y-2">
  {articles.map((article) => (
    <li key={article.id}>
      <Link href={`/help/${article.slug}`}
        className="block p-4 rounded-xl border border-[var(--color-border)] hover:shadow-sm hover:bg-[var(--color-surface-50)] transition-all group">
        <span className="font-medium text-[var(--color-text-primary)] group-hover:text-[var(--color-primary-700)] transition-colors">{article.title}</span>
        {article.excerpt && (
          <p className="text-sm text-[var(--color-text-secondary)] mt-1">{article.excerpt}</p>
        )}
      </Link>
    </li>
  ))}
</ul>
```
- Empty state: `text-[var(--color-text-muted)]`

**ArticlePage styling:**
Wrap content in `<div className="max-w-2xl mx-auto px-4 py-12">`.
- Article title: `text-3xl md:text-4xl font-bold text-[var(--color-text-primary)] mb-8`
- Rich text: `prose prose-lg prose-amber max-w-none` (add `prose-amber`)
- FAQ section heading: `text-2xl font-bold text-[var(--color-text-primary)] mb-6`
- FAQ question: `font-semibold text-[var(--color-text-primary)] mb-1`
- FAQ answer: `text-[var(--color-text-secondary)]` (replace `text-gray-700`)
- FAQ items: add card-like styling with padding, rounded corners, and subtle background:
```tsx
<div key={faq.id} className="p-4 bg-[var(--color-surface-50)] rounded-xl mb-3">
  <h3 className="font-semibold text-[var(--color-text-primary)] mb-1">{faq.question}</h3>
  <p className="text-[var(--color-text-secondary)]">{faq.answer}</p>
</div>
```

**Token replacements across the entire file:**
- `text-gray-500` -> `text-[var(--color-text-muted)]`
- `text-gray-600` -> `text-[var(--color-text-secondary)]`
- `text-gray-700` -> `text-[var(--color-text-secondary)]`
- Bare `border-b` -> `border border-[var(--color-border)]` or remove and use cards
- `prose prose-lg max-w-none` -> `prose prose-lg prose-amber max-w-none`

**CRITICAL: Do NOT change queryBySlug, generateStaticParams, generateMetadata, or JSON-LD logic. Only modify imports and JSX structure/classes.**
  </action>
  <verify>
- `grep -c "gray-\|yellow-" app/\(marketing\)/help/\[slug\]/page.tsx` returns 0
- `grep -c "prose-amber" app/\(marketing\)/help/\[slug\]/page.tsx` returns at least 1
- `grep -c "BlogPageChrome" app/\(marketing\)/help/\[slug\]/page.tsx` returns at least 1
- `grep -c "ChevronRight" app/\(marketing\)/help/\[slug\]/page.tsx` returns at least 1
  </verify>
  <done>Help section landing page and article page render with styled breadcrumbs (ChevronRight separators), prose-amber rich text, card-like article lists, styled FAQ section, all brand tokens, and Navbar/Footer via BlogPageChrome.</done>
</task>

</tasks>

<verification>
1. `grep -r "gray-\|yellow-400\|yellow-500" "app/(marketing)/help/"` returns 0 matches
2. Both help pages import and use BlogPageChrome
3. Help listing has hero search bar with `bg-honeycomb` and section cards in `grid-cols-1 md:grid-cols-2`
4. Help article uses `prose prose-lg prose-amber` on the RichText wrapper
5. Breadcrumbs use ChevronRight separators and brand tokens
6. `npx next build` completes without errors
</verification>

<success_criteria>
- Help listing page: hero search bar with branded background and honeycomb, section cards in responsive grid, cross-nav tabs, styled search results, all brand tokens
- Help section landing page: styled breadcrumbs, article list as clickable card rows, all brand tokens
- Help article page: styled breadcrumbs, prose-amber rich text, FAQ cards, all brand tokens
- Both pages wrapped in BlogPageChrome (Navbar + Footer)
- Zero raw gray/yellow classes remain
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/04-design-and-styling/04-03-SUMMARY.md`
</output>
